{% extends "base.html" %}
{% load static %}

{% block title %}{{ page_title }} - é¡¹ç›®é‡‡è´­ä¸æˆæœ¬ç®¡ç†ç³»ç»Ÿ{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/monitoring.css' %}">
<style>
/* æ›´æ–°ç›‘æ§ä¸“ç”¨æ ·å¼ */
.update-table {
    width: 100%;
    margin-top: 20px;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.update-table table {
    width: 100%;
    border-collapse: collapse;
}

.update-table th {
    background: #f8f9fa;
    padding: 12px;
    text-align: center;
    font-weight: 600;
    border-bottom: 2px solid #dee2e6;
    color: #495057;
}

.update-table td {
    padding: 10px 12px;
    text-align: center;
    border-bottom: 1px solid #f0f0f0;
}

.update-table tbody tr:hover {
    background: #f8f9fa;
}

/* çŠ¶æ€å¾½ç« æ ·å¼ */
.status-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 13px;
    font-weight: 500;
}

.status-normal {
    background: #d4edda;
    color: #155724;
}

.status-warning {
    background: #fff3cd;
    color: #856404;
}

.status-error {
    background: #f8d7da;
    color: #721c24;
}

.status-no-data {
    background: #e9ecef;
    color: #6c757d;
}

/* æ•°æ®å•å…ƒæ ¼æ ·å¼ */
.data-cell {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}

.data-date {
    font-size: 14px;
    font-weight: 500;
}

.data-days {
    font-size: 12px;
    color: #6c757d;
}

/* æ´»è·ƒåº¦å¡ç‰‡ */
.activity-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.activity-card {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    text-align: center;
}

.activity-card .value {
    font-size: 32px;
    font-weight: bold;
    color: #667eea;
    margin: 10px 0;
}

.activity-card .label {
    font-size: 14px;
    color: #6c757d;
}

/* æ²‰é»˜é¡¹ç›®è­¦å‘Š */
.silent-warning {
    background: #fff3cd;
    border-left: 4px solid #ffc107;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
}

.silent-warning strong {
    color: #856404;
}
</style>
{% endblock %}

{% block content %}
<div class="monitoring-dashboard">
    <div class="page-header" style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
        <div>
            <h1><i class="fas fa-sync-alt"></i> {{ page_title }}</h1>
            <p class="text-muted">ç›‘æ§å„é¡¹ç›®å„æ¨¡å—çš„æ•°æ®æ›´æ–°æ—¶æ•ˆæ€§ï¼ŒåŠæ—¶å‘ç°æ•°æ®å½•å…¥æ»åé—®é¢˜</p>
        </div>
        
        <!-- ç­›é€‰å™¨ -->
        <div class="filter-section" style="padding: 12px 16px; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <form method="get" action="" id="updateFilterForm" style="display: flex; align-items: center; gap: 12px; margin: 0;">
                {% for filter in quick_filters %}
                    {% if filter.type == 'select' %}
                        <label style="font-weight: 600; color: #495057; margin: 0; white-space: nowrap;">
                            {% if filter.name == 'year' %}å¹´ä»½ï¼š{% elif filter.name == 'project' %}é¡¹ç›®ï¼š{% endif %}
                        </label>
                        <select name="{{ filter.name }}"
                                class="form-control form-control-sm filter-select"
                                onchange="this.form.submit()"
                                style="width: {{ filter.width|default:'150px' }}; border-radius: 4px;">
                            {% for option in filter.options %}
                                <option value="{{ option.value }}"
                                        {% if option.value == filter.current_value %}selected{% endif %}>
                                    {{ option.label }}
                                </option>
                            {% endfor %}
                        </select>
                    {% endif %}
                {% endfor %}
                
                <label style="display: flex; align-items: center; gap: 5px; margin: 0; cursor: pointer;">
                    <input type="checkbox" name="only_active" value="true" {% if only_active %}checked{% endif %} onchange="this.form.submit()">
                    <span style="font-size: 13px; color: #495057;">ä»…è¿›è¡Œä¸­é¡¹ç›®</span>
                </label>
            </form>
        </div>
    </div>

    <!-- å…³é”®æŒ‡æ ‡ -->
    <div class="alert alert-info mb-3">
        <i class="fas fa-info-circle"></i>
        <strong>ç›‘æ§æ ‡å‡†ï¼š</strong>è¶…è¿‡ <span class="badge badge-warning">{{ warning_days }}å¤©</span> æœªæ›´æ–°çš„æ¨¡å—å°†æ˜¾ç¤ºğŸ”´çº¢è‰²é¢„è­¦ï¼›
        <span class="badge badge-warning">30-40å¤©</span> æœªæ›´æ–°æ˜¾ç¤ºğŸŸ¡é»„è‰²æé†’ï¼›
        <span class="badge badge-success">40å¤©å†…</span>æœ‰æ›´æ–°æ˜¾ç¤ºâœ…ç»¿è‰²æ­£å¸¸ã€‚
    </div>

    <!-- æ€»ä½“ç»Ÿè®¡å¡ç‰‡ -->
    <div class="key-metrics-grid" style="margin-bottom: 30px;">
        <div class="key-metric-card">
            <div class="key-metric-header">
                <div>
                    <div class="key-metric-title">ç›‘æ§é¡¹ç›®æ•°</div>
                    <div class="key-metric-value">{{ project_status.total_projects }}</div>
                </div>
                <div class="key-metric-icon">
                    <i class="fas fa-folder-open"></i>
                </div>
            </div>
            <div class="key-metric-trend">
                <i class="fas fa-database"></i> æ€»é¡¹ç›®æ•°
            </div>
        </div>

        <div class="key-metric-card success">
            <div class="key-metric-header">
                <div>
                    <div class="key-metric-title">æ­£å¸¸é¡¹ç›®</div>
                    <div class="key-metric-value">{{ project_status.normal_projects }}</div>
                </div>
                <div class="key-metric-icon success">
                    <i class="fas fa-check-circle"></i>
                </div>
            </div>
            <div class="key-metric-trend up">
                <i class="fas fa-arrow-up"></i> æ•°æ®åŠæ—¶æ›´æ–°
            </div>
        </div>

        <div class="key-metric-card warning">
            <div class="key-metric-header">
                <div>
                    <div class="key-metric-title">éœ€å…³æ³¨é¡¹ç›®</div>
                    <div class="key-metric-value">{{ project_status.warning_projects }}</div>
                </div>
                <div class="key-metric-icon warning">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
            </div>
            <div class="key-metric-trend down">
                <i class="fas fa-exclamation-circle"></i> å­˜åœ¨è¿‡æœŸæ•°æ®
            </div>
        </div>
    </div>

    <!-- æ•°æ®æ´»è·ƒåº¦åˆ†æ -->
    {% if activity_analysis %}
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0"><i class="fas fa-chart-line"></i> æ•°æ®æ´»è·ƒåº¦åˆ†æï¼ˆæœ€è¿‘30å¤©ï¼‰</h5>
        </div>
        <div class="card-body">
            <div class="activity-cards">
                <div class="activity-card">
                    <div class="label">æ€»æ›´æ–°æ¬¡æ•°</div>
                    <div class="value">{{ activity_analysis.total_updates }}</div>
                    <div class="label">æ¬¡</div>
                </div>
                <div class="activity-card">
                    <div class="label">æ—¥å‡æ›´æ–°</div>
                    <div class="value">{{ activity_analysis.daily_avg_updates }}</div>
                    <div class="label">æ¬¡/å¤©</div>
                </div>
                <div class="activity-card">
                    <div class="label">30å¤©æ— æ›´æ–°</div>
                    <div class="value" style="color: #ffc107;">{{ activity_analysis.silent_projects.30å¤©æ— æ›´æ–° }}</div>
                    <div class="label">ä¸ªé¡¹ç›®</div>
                </div>
                <div class="activity-card">
                    <div class="label">60å¤©æ— æ›´æ–°</div>
                    <div class="value" style="color: #fd7e14;">{{ activity_analysis.silent_projects.60å¤©æ— æ›´æ–° }}</div>
                    <div class="label">ä¸ªé¡¹ç›®</div>
                </div>
                <div class="activity-card">
                    <div class="label">90å¤©ä»¥ä¸Šæ— æ›´æ–°</div>
                    <div class="value" style="color: #dc3545;">{{ activity_analysis.silent_projects.90å¤©ä»¥ä¸Šæ— æ›´æ–° }}</div>
                    <div class="label">ä¸ªé¡¹ç›®</div>
                </div>
            </div>
            
            {% if activity_analysis.silent_projects.30å¤©æ— æ›´æ–° > 0 or activity_analysis.silent_projects.60å¤©æ— æ›´æ–° > 0 %}
            <div class="silent-warning">
                <i class="fas fa-exclamation-triangle"></i>
                <strong>æ²‰é»˜é¡¹ç›®æé†’ï¼š</strong>
                å‘ç° <strong>{{ activity_analysis.silent_projects.30å¤©æ— æ›´æ–° }}</strong> ä¸ªé¡¹ç›®è¶…è¿‡30å¤©æœªæ›´æ–°ï¼Œ
                <strong>{{ activity_analysis.silent_projects.60å¤©æ— æ›´æ–° }}</strong> ä¸ªé¡¹ç›®è¶…è¿‡60å¤©æœªæ›´æ–°ï¼Œ
                è¯·åŠæ—¶è·Ÿè¿›å½•å…¥æœ€æ–°æ•°æ®ã€‚
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- å„æ¨¡å—æ•°æ®çŠ¶æ€æ¦‚è§ˆ -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0"><i class="fas fa-chart-bar"></i> å„æ¨¡å—æ•°æ®çŠ¶æ€</h5>
        </div>
        <div class="card-body">
            <div class="row" style="display: flex; flex-wrap: nowrap; justify-content: space-between;">
                
                <div class="col-3" style="flex: 0 0 24%; max-width: 24%; padding: 0 5px;">
                    <div class="card border-success" style="margin-bottom: 0;">
                        <div class="card-body text-center" style="padding: 15px 10px;">
                            <h6 style="margin-bottom: 8px; font-size: 15px;">é‡‡è´­</h6>
                            <div style="font-size: 36px; font-weight: bold; margin: 10px 0; color: #28a745;">
                                {{ module_overview.0.total_count|default:0 }}
                            </div>
                            <div style="font-size: 13px; color: #6c757d;">
                                <span class="badge badge-success">{{ module_overview.0.normal_count|default:0 }} æ­£å¸¸</span>
                                {% if module_overview.0.outdated_count > 0 %}
                                <span class="badge badge-warning">{{ module_overview.0.outdated_count }} è¿‡æœŸ</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-3" style="flex: 0 0 24%; max-width: 24%; padding: 0 5px;">
                    <div class="card border-success" style="margin-bottom: 0;">
                        <div class="card-body text-center" style="padding: 15px 10px;">
                            <h6 style="margin-bottom: 8px; font-size: 15px;">åˆåŒ</h6>
                            <div style="font-size: 36px; font-weight: bold; margin: 10px 0; color: #007bff;">
                                {{ module_overview.1.total_count|default:0 }}
                            </div>
                            <div style="font-size: 13px; color: #6c757d;">
                                <span class="badge badge-success">{{ module_overview.1.normal_count|default:0 }} æ­£å¸¸</span>
                                {% if module_overview.1.outdated_count > 0 %}
                                <span class="badge badge-warning">{{ module_overview.1.outdated_count }} è¿‡æœŸ</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-3" style="flex: 0 0 24%; max-width: 24%; padding: 0 5px;">
                    <div class="card border-success" style="margin-bottom: 0;">
                        <div class="card-body text-center" style="padding: 15px 10px;">
                            <h6 style="margin-bottom: 8px; font-size: 15px;">ä»˜æ¬¾</h6>
                            <div style="font-size: 36px; font-weight: bold; margin: 10px 0; color: #ffc107;">
                                {{ module_overview.2.total_count|default:0 }}
                            </div>
                            <div style="font-size: 13px; color: #6c757d;">
                                <span class="badge badge-success">{{ module_overview.2.normal_count|default:0 }} æ­£å¸¸</span>
                                {% if module_overview.2.outdated_count > 0 %}
                                <span class="badge badge-warning">{{ module_overview.2.outdated_count }} è¿‡æœŸ</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-3" style="flex: 0 0 24%; max-width: 24%; padding: 0 5px;">
                    <div class="card border-success" style="margin-bottom: 0;">
                        <div class="card-body text-center" style="padding: 15px 10px;">
                            <h6 style="margin-bottom: 8px; font-size: 15px;">ç»“ç®—</h6>
                            <div style="font-size: 36px; font-weight: bold; margin: 10px 0; color: #17a2b8;">
                                {{ module_overview.3.total_count|default:0 }}
                            </div>
                            <div style="font-size: 13px; color: #6c757d;">
                                <span class="badge badge-success">{{ module_overview.3.normal_count|default:0 }} æ­£å¸¸</span>
                                {% if module_overview.3.outdated_count > 0 %}
                                <span class="badge badge-warning">{{ module_overview.3.outdated_count }} è¿‡æœŸ</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- æœ€è¿‘æ›´æ–°æ—¥æœŸç›‘æ§è¡¨ - æŒ‰ç…§éœ€æ±‚æ–‡æ¡£3.2.1è®¾è®¡ -->
    <div class="card">
        <div class="card-header bg-info text-white">
            <h5 class="mb-0"><i class="fas fa-table"></i> æœ€è¿‘æ›´æ–°æ—¥æœŸç›‘æ§è¡¨</h5>
        </div>
        <div class="card-body p-0">
            <div class="update-table">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 50px;">åºå·</th>
                            <th style="width: 200px;">é¡¹ç›®åç§°</th>
                            <th style="width: 100px;">é¡¹ç›®çŠ¶æ€</th>
                            <th>é‡‡è´­æ›´æ–°</th>
                            <th>åˆåŒæ›´æ–°</th>
                            <th>ä»˜æ¬¾æ›´æ–°</th>
                            <th>ç»“ç®—æ›´æ–°</th>
                            <th style="width: 120px;">æ•´ä½“çŠ¶æ€</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for project in projects %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td style="text-align: left;">
                                <a href="{% url 'project_detail' project.project_code %}" style="text-decoration: none; color: #007bff;">
                                    {{ project.project_name }}
                                </a>
                            </td>
                            <td>
                                <span class="badge {% if project.project_status == 'è¿›è¡Œä¸­' %}badge-primary{% else %}badge-secondary{% endif %}">
                                    {{ project.project_status }}
                                </span>
                            </td>
                            
                            <!-- é‡‡è´­æ¨¡å— -->
                            <td>
                                {% if project.modules.é‡‡è´­.last_update %}
                                <div class="data-cell">
                                    <span class="data-date">{{ project.modules.é‡‡è´­.last_update }}</span>
                                    <span class="data-days">({{ project.modules.é‡‡è´­.days_ago }}å¤©)</span>
                                    {% if project.modules.é‡‡è´­.status == 'normal' %}
                                        <span style="font-size: 18px;">âœ…</span>
                                    {% elif project.modules.é‡‡è´­.status == 'warning' %}
                                        <span style="font-size: 18px;">ğŸŸ¡</span>
                                    {% elif project.modules.é‡‡è´­.status == 'error' %}
                                        <span style="font-size: 18px;">ğŸ”´</span>
                                    {% endif %}
                                </div>
                                {% else %}
                                <span class="status-badge status-no-data">æœªå½•å…¥</span>
                                {% endif %}
                            </td>
                            
                            <!-- åˆåŒæ¨¡å— -->
                            <td>
                                {% if project.modules.åˆåŒ.last_update %}
                                <div class="data-cell">
                                    <span class="data-date">{{ project.modules.åˆåŒ.last_update }}</span>
                                    <span class="data-days">({{ project.modules.åˆåŒ.days_ago }}å¤©)</span>
                                    {% if project.modules.åˆåŒ.status == 'normal' %}
                                        <span style="font-size: 18px;">âœ…</span>
                                    {% elif project.modules.åˆåŒ.status == 'warning' %}
                                        <span style="font-size: 18px;">ğŸŸ¡</span>
                                    {% elif project.modules.åˆåŒ.status == 'error' %}
                                        <span style="font-size: 18px;">ğŸ”´</span>
                                    {% endif %}
                                </div>
                                {% else %}
                                <span class="status-badge status-no-data">æœªå½•å…¥</span>
                                {% endif %}
                            </td>
                            
                            <!-- ä»˜æ¬¾æ¨¡å— -->
                            <td>
                                {% if project.modules.ä»˜æ¬¾.last_update %}
                                <div class="data-cell">
                                    <span class="data-date">{{ project.modules.ä»˜æ¬¾.last_update }}</span>
                                    <span class="data-days">({{ project.modules.ä»˜æ¬¾.days_ago }}å¤©)</span>
                                    {% if project.modules.ä»˜æ¬¾.status == 'normal' %}
                                        <span style="font-size: 18px;">âœ…</span>
                                    {% elif project.modules.ä»˜æ¬¾.status == 'warning' %}
                                        <span style="font-size: 18px;">ğŸŸ¡</span>
                                    {% elif project.modules.ä»˜æ¬¾.status == 'error' %}
                                        <span style="font-size: 18px;">ğŸ”´</span>
                                    {% endif %}
                                </div>
                                {% else %}
                                <span class="status-badge status-no-data">æœªå½•å…¥</span>
                                {% endif %}
                            </td>
                            
                            <!-- ç»“ç®—æ¨¡å— -->
                            <td>
                                {% if project.modules.ç»“ç®—.last_update %}
                                <div class="data-cell">
                                    <span class="data-date">{{ project.modules.ç»“ç®—.last_update }}</span>
                                    <span class="data-days">({{ project.modules.ç»“ç®—.days_ago }}å¤©)</span>
                                    {% if project.modules.ç»“ç®—.status == 'normal' %}
                                        <span style="font-size: 18px;">âœ…</span>
                                    {% elif project.modules.ç»“ç®—.status == 'warning' %}
                                        <span style="font-size: 18px;">ğŸŸ¡</span>
                                    {% elif project.modules.ç»“ç®—.status == 'error' %}
                                        <span style="font-size: 18px;">ğŸ”´</span>
                                    {% endif %}
                                </div>
                                {% else %}
                                <span class="status-badge status-no-data">-</span>
                                {% endif %}
                            </td>
                            <!-- æ•´ä½“çŠ¶æ€ -->
                            <td>
                                {% if project.overall_status == 'normal' %}
                                    <span class="status-badge status-normal">æ­£å¸¸</span>
                                {% else %}
                                    <span class="status-badge status-error">éœ€å…³æ³¨</span>
                                    <div style="font-size: 11px; color: #721c24; margin-top: 4px;">
                                        {{ project.warning_count }}ä¸ªæ¨¡å—é¢„è­¦
                                    </div>
                                {% endif %}
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 40px;">
                                <i class="fas fa-inbox fa-3x text-muted mb-3" style="display: block;"></i>
                                <p class="text-muted">æš‚æ— ç¬¦åˆæ¡ä»¶çš„é¡¹ç›®æ•°æ®</p>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
            <!-- åˆ†é¡µ -->
            {% if page_obj.has_other_pages %}
            <div style="padding: 15px;">
                <nav aria-label="åˆ†é¡µå¯¼èˆª">
                    <ul class="pagination justify-content-center mb-0">
                        {% if page_obj.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="?page=1&warning_days={{ warning_days }}&only_active={{ only_active|yesno:'true,false' }}">é¦–é¡µ</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.previous_page_number }}&warning_days={{ warning_days }}&only_active={{ only_active|yesno:'true,false' }}">ä¸Šä¸€é¡µ</a>
                        </li>
                        {% endif %}

                        <li class="page-item active">
                            <span class="page-link">ç¬¬ {{ page_obj.number }} / {{ page_obj.paginator.num_pages }} é¡µ</span>
                        </li>

                        {% if page_obj.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.next_page_number }}&warning_days={{ warning_days }}&only_active={{ only_active|yesno:'true,false' }}">ä¸‹ä¸€é¡µ</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}&warning_days={{ warning_days }}&only_active={{ only_active|yesno:'true,false' }}">æœ«é¡µ</a>
                        </li>
                        {% endif %}
                    </ul>
                </nav>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- è¯´æ˜å¡ç‰‡ -->
    <div class="card mt-4">
        <div class="card-body">
            <h6><i class="fas fa-info-circle"></i> ä½¿ç”¨è¯´æ˜</h6>
            <ul class="mb-0" style="font-size: 14px; color: #6c757d;">
                <li><strong>æœ€è¿‘æ›´æ–°æ—¥æœŸï¼š</strong>æ˜¾ç¤ºå„æ¨¡å—æœ€æ–°ä¸€æ¡è®°å½•çš„åˆ›å»ºæˆ–æ›´æ–°æ—¶é—´</li>
                <li><strong>è·ä»Šå¤©æ•°ï¼š</strong>ä»æœ€è¿‘æ›´æ–°æ—¥æœŸåˆ°ä»Šå¤©çš„é—´éš”å¤©æ•°</li>
                <li><strong>é¢„è­¦è§„åˆ™ï¼š</strong>
                    <span class="badge badge-success">âœ… ç»¿è‰²</span> = 40å¤©å†…æœ‰æ›´æ–°ï¼ˆæ­£å¸¸ï¼‰ï¼›
                    <span class="badge badge-warning">ğŸŸ¡ é»„è‰²</span> = 30-40å¤©æœªæ›´æ–°ï¼ˆæé†’å…³æ³¨ï¼‰ï¼›
                    <span class="badge badge-danger">ğŸ”´ çº¢è‰²</span> = è¶…è¿‡40å¤©æœªæ›´æ–°ï¼ˆéœ€è¦ç«‹å³å¤„ç†ï¼‰
                </li>
                <li><strong>æ•´ä½“çŠ¶æ€ï¼š</strong>åªè¦æœ‰ä¸€ä¸ªæ¨¡å—å‡ºç°ğŸ”´çº¢è‰²é¢„è­¦ï¼Œé¡¹ç›®æ•´ä½“çŠ¶æ€å³ä¸º"éœ€å…³æ³¨"</li>
                <li><strong>ä»…è¿›è¡Œä¸­é¡¹ç›®ï¼š</strong>å‹¾é€‰ååªæ˜¾ç¤ºçŠ¶æ€ä¸º"è¿›è¡Œä¸­"çš„é¡¹ç›®ï¼Œå·²å®Œæˆé¡¹ç›®ä¸å‚ä¸é¢„è­¦</li>
                <li><strong>äº¤äº’åŠŸèƒ½ï¼š</strong>ç‚¹å‡»é¡¹ç›®åç§°å¯æŸ¥çœ‹è¯¥é¡¹ç›®çš„è¯¦ç»†ä¿¡æ¯</li>
            </ul>
        </div>
    </div>

    <!-- è¿”å›æŒ‰é’® -->
    <div class="mt-4 mb-4">
        <a href="{% url 'monitoring_dashboard' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> è¿”å›ç›‘æ§ä¸­å¿ƒ
        </a>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
document.addEventListener('DOMContentLoaded', function() {
    console.log('æ›´æ–°ç›‘æ§é¡µé¢åŠ è½½å®Œæˆ');
    
    // å¯ä»¥æ·»åŠ ä¸€äº›äº¤äº’åŠŸèƒ½
    // ä¾‹å¦‚ï¼šç‚¹å‡»å•å…ƒæ ¼æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
});
</script>
{% endblock %}