# 🚀 环境隔离快速参考卡

## 📋 核心概念

```
dev分支 (开发)  → HTTP:8000  → db_dev.sqlite3  → AI随意改代码 ✅
main分支 (生产) → HTTPS:3500 → db_prod.sqlite3 → 稳定版本 🔒
```

---

## 🎯 常用命令

### 日常开发

```bash
# 1. 切换到开发分支并启动
双击: switch_to_dev_branch.bat
访问: http://10.168.3.240:8000

# 2. 修改代码、测试...

# 3. 提交代码
git add .
git commit -m "功能描述"
```

### 部署到生产

```bash
# 安全部署 (推荐)
双击: deploy_to_prod_safe.bat
访问: https://10.168.3.240:3500
```

### 紧急回滚

```bash
# 快速回滚
双击: rollback_prod.bat
```

---

## ✅ 核心优势

| 问题 | 解决方案 |
|------|---------|
| AI改代码影响生产? | ✅ dev分支隔离,不影响main |
| HTTPS证书烦人? | ✅ 开发用HTTP,无证书 |
| 测试数据污染? | ✅ 独立数据库 |
| 出问题怎么办? | ✅ 秒级回滚 |

---

## 📁 重要文件

| 文件 | 用途 |
|------|------|
| `switch_to_dev_branch.bat` | 切换到开发 |
| `deploy_to_prod_safe.bat` | 部署到生产 |
| `rollback_prod.bat` | 紧急回滚 |
| `docs/Git分支环境隔离指南.md` | 完整文档 |

---

## 🔄 工作流程

```
1. 开发 (dev分支)
   ↓
2. 提交代码
   ↓
3. 部署 (deploy_to_prod_safe.bat)
   ↓
4. 验证
   ↓
5. 成功 ✅ 或 回滚 ↩️
```

---

## ⚠️ 注意事项

- ✅ **开发时**: 始终在dev分支
- ✅ **部署时**: 使用deploy_to_prod_safe.bat
- ✅ **出问题**: 立即运行rollback_prod.bat
- ❌ **不要**: 直接在main分支修改代码

---

## 📞 快速帮助

**查看当前分支:**
```bash
git branch --show-current
```

**查看文件状态:**
```bash
git status
```

**查看备份:**
```bash
explorer backups
```

---

**详细文档**: [`docs/Git分支环境隔离指南.md`](docs/Git分支环境隔离指南.md)