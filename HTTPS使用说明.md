# HTTPS 自签名证书使用说明

## ✅ 已完成配置

1. ✅ 生成了自签名SSL证书（有效期10年）
2. ✅ 安装了必要的Python包
3. ✅ 配置了Django支持HTTPS
4. ✅ 创建了便捷启动脚本

---

## 🚀 启动HTTPS服务器

### 方法1：使用批处理文件（推荐）
双击运行：`启动HTTPS服务器.bat`

### 方法2：手动命令
```bash
python manage.py runserver_plus --cert-file ssl/cert.pem --key-file ssl/key.pem 0.0.0.0:3500
```

---

## 🌐 访问地址

启动后，使用HTTPS访问：
```
https://10.168.3.240:3500
```

⚠️ 注意：必须使用 **https://** 而不是 http://

---

## 🔐 首次访问 - 信任证书

### Chrome/Edge浏览器

1. 访问 `https://10.168.3.240:3500`
2. 看到"您的连接不是私密连接"警告
3. 点击 **"高级"** 按钮
4. 点击 **"继续前往 10.168.3.240（不安全）"**
5. 现在可以正常使用了！

### 永久信任证书（可选，每台电脑只需一次）

1. 在警告页面点击"高级"
2. 导出证书文件
3. 双击证书 → "安装证书"
4. 选择"本地计算机"
5. 选择"将所有证书放入以下存储"
6. 浏览 → 选择"受信任的根证书颁发机构"
7. 完成后，再次访问就不会有警告了

### Firefox浏览器

1. 访问时点击"高级"
2. 点击"添加例外"
3. 点击"确认安全例外"
4. 完成！

---

## ❓ 常见问题

### Q1: 为什么浏览器还是显示"不安全"？
**A:** 因为这是自签名证书，浏览器无法验证。但**加密强度与付费证书完全相同**，数据传输是安全的。

### Q2: 需要为每个员工都配置一次吗？
**A:** 
- 简单方式：每个员工首次访问时点击"继续前往"（2秒）
- 永久方式：IT管理员导出证书，通过组策略批量部署到所有电脑

### Q3: 证书会过期吗？
**A:** 会，10年后过期（2035年）。到时重新运行 `python generate_cert.py` 即可。

### Q4: 数据真的安全吗？
**A:** ✅ **完全安全！** 
- 使用RSA-4096位加密（银行级别）
- 与购买的商业证书加密强度相同
- 唯一区别是浏览器不认识发证机构

---

## 📋 安全使用规范（发给全体员工）

### ✅ 可以做的事
- 在公司办公室网络使用系统
- 输入密码和敏感数据
- 正常使用所有功能

### ❌ 不要做的事
- ❌ 不要在公共WiFi（咖啡厅、机场）使用
- ❌ 不要在家庭网络使用（除非通过VPN）
- ❌ 不要共享账户密码
- ❌ 不要在共享电脑上保存密码

### 🔒 最佳实践
1. 使用强密码（至少8位，包含字母+数字）
2. 使用完毕及时退出登录
3. 不要离开座位时让系统保持登录状态
4. 定期修改密码

---

## 📞 技术支持

如有问题，请联系IT部门。

**证书文件位置：**
- 证书：`ssl/cert.pem`
- 私钥：`ssl/key.pem`

**配置文件：**
- Django配置：`config/settings.py`
- 启动脚本：`启动HTTPS服务器.bat`