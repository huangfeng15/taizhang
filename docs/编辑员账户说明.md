# 编辑员账户说明

## 账户信息

已成功创建编辑员账户，详细信息如下：

- **用户名**: `editor`
- **初始密码**: `Editor@2024`
- **角色**: 编辑员
- **部门**: 编辑部

## 权限说明

### ✅ 拥有的权限

编辑员账户拥有以下权限：

1. **查看权限** (view)
   - 可以查看所有项目、采购、合同、付款、结算、供应商评价等数据

2. **新增权限** (add)
   - 可以创建新的项目、采购、合同、付款、结算、供应商评价等记录

3. **修改权限** (change)
   - 可以编辑和更新现有的数据记录

### ❌ 不拥有的权限

- **删除权限** (delete)
  - **不能删除任何数据**，保证数据安全

## 使用方法

### 1. 登录系统

访问系统后台管理地址（通常是 `/admin/`），使用以下凭据登录：

```
用户名: editor
密码: Editor@2024
```

### 2. 首次登录建议

⚠️ **安全提示**：建议首次登录后立即修改密码

修改密码步骤：
1. 登录后台
2. 点击右上角用户名
3. 选择"修改密码"
4. 输入当前密码和新密码
5. 保存

### 3. 日常使用

登录后可以：
- 浏览所有业务数据
- 创建新的项目、采购、合同等记录
- 编辑和更新现有记录
- 导出数据报表

但**不能执行删除操作**，如果尝试删除数据，系统会提示权限不足。

## 技术细节

### 权限统计

- 总权限数: **30个**
- 权限分布:
  - 项目 (Project): add, change, view
  - 采购 (Procurement): add, change, view
  - 合同 (Contract): add, change, view
  - 付款 (Payment): add, change, view
  - 结算 (Settlement): add, change, view
  - 供应商评价 (SupplierEval): add, change, view
  - 完整性配置 (CompletenessFieldConfig): add, change, view
  - 角色 (Role): add, change, view
  - 用户档案 (UserProfile): add, change, view
  - 以及其他系统模型的增改查权限

### 权限验证

可以通过以下命令验证权限配置：

```bash
# 查看用户信息
python manage.py shell -c "from django.contrib.auth.models import User; u = User.objects.get(username='editor'); print(f'用户: {u.username}, 权限数: {u.user_permissions.count()}')"

# 验证没有删除权限
python manage.py shell -c "from django.contrib.auth.models import User; u = User.objects.get(username='editor'); delete_perms = [p for p in u.user_permissions.all() if 'delete' in p.codename]; print(f'删除权限数: {len(delete_perms)}')"
```

## 重新创建账户

如果需要重新创建或重置账户，可以运行以下命令：

```bash
python manage.py create_editor_user
```

该命令会：
- 如果账户不存在，创建新账户
- 如果账户已存在，重置密码为默认密码
- 自动配置角色和权限

## 与管理员账户对比

| 特性 | 管理员 (admin) | 编辑员 (editor) |
|------|---------------|----------------|
| 查看数据 | ✅ | ✅ |
| 新增数据 | ✅ | ✅ |
| 修改数据 | ✅ | ✅ |
| 删除数据 | ✅ | ❌ |
| 管理用户 | ✅ | ❌ |
| 系统配置 | ✅ | ❌ |
| 超级权限 | ✅ | ❌ |

## 安全建议

1. 定期更改密码
2. 不要与他人共享账户
3. 退出时记得注销
4. 发现异常活动及时报告管理员

## 常见问题

### Q: 为什么我不能删除数据？
A: 编辑员角色设计上就不包含删除权限，这是为了保护数据安全。如需删除数据，请联系管理员。

### Q: 如何修改密码？
A: 登录后台后，点击右上角用户名 → 修改密码。

### Q: 忘记密码怎么办？
A: 联系管理员重置密码，或者管理员可以运行 `python manage.py create_editor_user` 命令重置为默认密码。

### Q: 可以创建多个编辑员账户吗？
A: 可以。可以修改管理命令中的用户名和密码，创建多个具有相同权限的账户。

---

**创建日期**: 2024年
**文档维护**: 系统管理员